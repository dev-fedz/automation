<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>{% block title %}App{% endblock %}</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg%20xmlns%3D%27http://www.w3.org/2000/svg%27%20viewBox%3D%270%200%2064%2064%27%3E%3Crect%20width%3D%2764%27%20height%3D%2764%27%20rx%3D%2712%27%20ry%3D%2712%27%20fill%3D%27%23005498%27/%3E%3Ctext%20x%3D%2732%27%20y%3D%2742%27%20text-anchor%3D%27middle%27%20font-family%3D%27Arial%2C%20sans-serif%27%20font-size%3D%2732%27%20fill%3D%27white%27%3EA%3C/text%3E%3C/svg%3E" />
    {% load static %}
    {% block head_css %}<link rel="stylesheet" href="{% static 'css/app.css' %}">{% endblock %}
    {% block head_js %}{% endblock %}
</head>
<body class="layout dashboard-layout">
    <div class="dash-shell">
    <aside class="dash-sidebar" id="sidebar" aria-label="Primary sidebar navigation">
            <div class="sidebar-profile">
                <div class="avatar"></div>
                <div class="profile-name">{{ request.user.first_name|default:'User' }} {{ request.user.last_name }}</div>
            </div>
            {% include 'components/sidebar.html' %}
        </aside>
    <div class="sidebar-overlay" data-testid="sidebar-overlay" aria-hidden="true"></div>
        <div class="dash-main">
            <header class="dash-header">
                <div class="nav-left">
            <button class="menu-toggle" aria-label="Toggle sidebar" aria-controls="sidebar" aria-expanded="true">â˜°</button>
                    <nav class="breadcrumb" {% if BREADCRUMBS %}data-server-breadcrumbs="1"{% endif %}>
                        {% if BREADCRUMBS %}
                            {# Render server-side breadcrumb list; last item is plain text #}
                            {% for seg in BREADCRUMBS %}
                                {% if not forloop.first %}
                                    <span class="sep">â€º</span>
                                {% endif %}
                                {% if seg.url and not forloop.last %}
                                    <a href="{{ seg.url }}">{{ seg.label }}</a>
                                {% else %}
                                    <span>{{ seg.label }}</span>
                                {% endif %}
                            {% endfor %}
                        {% else %}
                            <span>Home</span> <span class="sep">â€º</span> <span>Dashboard</span>
                        {% endif %}
                    </nav>
                </div>
                <div class="brand"></div>
                <div class="nav-right">
                    <div class="icon-group">
                        <div class="icon-badge" title="Notifications">ðŸ””<span class="badge">7</span></div>
                        <div class="icon-badge" title="Messages">âœ‰</div>
                    </div>
                    <div class="range-buttons">
                        <button class="range active">Today</button>
                        <button class="range">7 Days</button>
                        <button class="range">30 Days</button>
                    </div>
                    <div class="user-box mini">
                        <div class="user-meta">
                            <div class="user-name">{{ request.user.first_name }} {{ request.user.last_name }}</div>
                            <div class="user-email">{{ request.user.email }}</div>
                        </div>
                    </div>
                </div>
            </header>
            <main class="dash-content">
                {% if request.resolver_match and request.resolver_match.url_name == 'dashboard' %}
                <div class="metric-tiles" data-testid="automation-metrics-tiles">
                    <div class="metric-tile" data-testid="tile-suites"><span class="label">Suites</span><span class="val" data-testid="tile-suites-val">42</span></div>
                    <div class="metric-tile" data-testid="tile-passed"><span class="label">Passed</span><span class="val" data-testid="tile-passed-val">1180</span></div>
                    <div class="metric-tile" data-testid="tile-failed"><span class="label">Failed</span><span class="val" data-testid="tile-failed-val">23</span></div>
                    <div class="metric-tile" data-testid="tile-passrate"><span class="label">Pass Rate</span><span class="val" data-testid="tile-passrate-val">97%</span></div>
                </div>
                {% endif %}
                {% include 'components/alerts.html' %}
                {% block content %}{% endblock %}
            </main>
        </div>
    </div>
    {% block footer %}{% endblock %}
    {% block body_js %}<script src="{% static 'js/app.js' %}"></script>{% endblock %}
</body>
</html>
