{% extends 'base/auth_base.html' %}
{% block auth_title %}Login{% endblock %}
{% block auth_content %}
<div class="auth-center">
  <div class="login-card">
    <div class="login-left">
                <div class="login-brand inline">
                        <span class="brand-mark brand-mark--lg" aria-hidden="true"></span>
                        <span class="login-brand__text">chronos<span>-QA</span></span>
                </div>
        <h1 class="login-heading">Log In</h1>
        <p class="login-welcome">Welcome back! Please enter your details</p>
        <form method="post" id="login-form" class="login-form">{% csrf_token %}
            <label class="field">
                <span>Email</span>
                <input type="email" name="email" autocomplete="email" required>
            </label>
            <label class="field">
                <span>Password</span>
                <div class="password-wrap">
                    <input type="password" name="password" autocomplete="current-password" required>
                    <button type="button" class="pw-toggle" aria-label="Toggle password" onclick="const i=this.previousElementSibling;i.type=i.type==='password'?'text':'password';this.classList.toggle('on');">üëÅ</button>
                </div>
            </label>
            <div class="login-meta">
                <label class="remember"><input type="checkbox" name="remember"> <span>Remember me</span></label>
                <a href="#" class="forgot">Forgot password?</a>
            </div>
            <button type="submit" class="btn btn-primary btn-block">Log In</button>
        </form>
    <p class="signup-hint">Don't have account? <a href="#">Sign up</a></p>
        <footer class="login-footer">
            <small>&copy; {{ year|default:2026 }} chronos-QA ¬∑ <a href="#">Terms</a> ¬∑ <a href="#">Privacy</a></small>
        </footer>
    </div>
    <div class="login-visual">
        <div class="scene" aria-hidden="true">
            <div class="chronos-shell" aria-hidden="true">
                <div class="chronos-face"></div>
                <div class="chronos-hand chronos-hand--hour"></div>
                <div class="chronos-hand chronos-hand--minute"></div>
                <div class="chronos-center"></div>
            </div>
            <!-- Pointy gears (SVG) -->
        </div>
    </div>
  </div>
</div>

<div class="modal" id="twofa-modal" aria-hidden="true" data-2fa-modal>
    <div class="modal-dialog" role="dialog" aria-modal="true" aria-labelledby="twofa-title">
        <div class="modal-header">
            <h3 id="twofa-title" data-2fa-modal-title>Two-Factor Authentication</h3>
            <button type="button" class="automation-modal__close" data-2fa-modal-close aria-label="Close">‚úï</button>
        </div>
        <div class="modal-body">
            <p class="modal-status" data-2fa-modal-status>Two-factor authentication required.</p>
            <div class="qr-box" data-2fa-modal-qr-wrap hidden style="display:none;">
                <img data-2fa-modal-qr alt="2FA QR code" />
            </div>
            <label>
                Verification code
                <input type="text" data-2fa-modal-otp inputmode="numeric" autocomplete="one-time-code" placeholder="123456">
            </label>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-2fa-modal-close>Cancel</button>
            <button type="button" class="btn btn-primary" data-2fa-modal-submit>Verify</button>
        </div>
    </div>
</div>

<div class="toast-container" data-toast-container></div>
<script>
// simple enter submit -> handled by existing JS login logic
</script>
{% endblock %}
